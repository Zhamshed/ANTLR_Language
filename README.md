Project Description
This project implements:

A compiler for arithmetic expressions and control structures using ANTLR 4.

Type checking for variables and operations.

A bytecode generator (program.out).

A stack-based virtual machine to execute instructions from the bytecode (VMinput.txt or program.out).

The supported features include:

Arithmetic operations (+, -, *, /, %).

Logical operations (&&, ||, !).

Comparison operations (==, !=, <, >).

Variables of different types (int, float, string, bool, file).

Reading input and writing output (read, write).

Control structures (if, else, while, do-while, for).

File operations (fopen, fappend, fclose).

Project Structure
Expr.g4 — Grammar definition for the custom language (ANTLR 4 format).

Main.java — Main class for compiling input.txt and generating bytecode into program.out.

Main_VM.java — Main class for running the Virtual Machine (VM) using VMinput.txt or program.out.

VirtualMachine.java — The virtual machine that interprets and executes bytecode instructions.

Example Files:
input.txt — Source code input file for the compiler.

program.out — Output file containing generated bytecode.

VMinput.txt — Input file containing prepared bytecode for the virtual machine.

How to Use
1. Setup and Build
You need ANTLR 4 installed. To generate the parser and visitor classes:
java -jar lib/antlr-4.13.1-complete.jar -visitor -no-listener src/Expr.g4 -package src
Compile the project:
javac -cp lib/antlr-4.13.1-complete.jar src/*.java
2. Compile Source Code into Bytecode
Run the Main class:
java -cp .:lib/antlr-4.13.1-complete.jar src/Main
Reads source code from input.txt.

Parses and type-checks the program.

Generates bytecode into program.out.

3. Execute Bytecode on Virtual Machine
Run the Main_VM class:
java -cp .:lib/antlr-4.13.1-complete.jar src/Main_VM
Loads bytecode from VMinput.txt (or program.out).

Executes instructions on the virtual machine.

Note: Make sure the bytecode is correctly generated, otherwise runtime errors may occur.

Special Features
File Support:

fopen — opens a file for writing.

fappend — appends multiple values to a file at once. Syntax:
load file
push I 1
push S "A"
push I 2
fappend 4
Error Handling:

Index checking (e.g., for fappend argument count).

Stack underflow checking when popping elements.

Type verification when performing operations.

Requirements
Java 21+

ANTLR 4.13.1

(Optional) Maven for dependency management

lib/antlr-4.13.1-complete.jar must be available in the project directory.
